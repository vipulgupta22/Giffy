(window.webpackJsonp=window.webpackJsonp||[]).push([["homepageBeta"],{"37R3":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return U}));var i,r,o,a,s,c=n("KQm4"),l=n("o0o1"),u=n.n(l),f=n("HaE+"),p=n("1OyB"),h=n("vuIU"),d=n("md7G"),m=n("foSv"),g=n("Ji7U"),v=n("q1tI"),b=n.n(v),y=n("17x9"),w=n.n(y),x=n("/MKj"),O=n("Ty5D"),j=n("uKiO"),E=n("R1Km"),C=n("EEzn"),k=n("kPBI"),P=n("0uuS"),I=n("4bRF"),S=n("sY+D"),L=n("cLpb"),N=n("bbZa"),R=n("vOnD"),M=n("s56M"),D=n("c6vQ"),_=n("saK6"),A=n("o9Ry"),H=n("iuBv"),G=n("GsUM");function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=R.d.div.withConfig({displayName:"homepage__Container",componentId:"iz3zf-0"})(["padding-top:4px;text-align:left;"]),V=R.d.div.withConfig({displayName:"homepage__BannerContainer",componentId:"iz3zf-1"})(["height:96px;margin-bottom:20px;"]),F=parseInt(A.grid12),U=(i=Object(I.a)(["banner","pingback_id"]),r=Object(x.b)((function(e){return{autoPlay:Object(L.c)(e),trendingStories:Object(L.M)(e),user:e.user}}),{fetchTrendingStories:S.h,fetchMoreStories:S.e}),Object(O.withRouter)(o=i(o=r((s=a=function(t){Object(g.a)(o,t);var n,i,r=(n=o,function(){var e,t=Object(m.a)(n);if(T()){var i=Object(m.a)(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Object(d.a)(this,e)});function o(){var e;Object(p.a)(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={page:1,isFetching:!1,carouselGifs:[],artistGifs:[]},e.onLoadMore=Object(f.a)(u.a.mark((function t(){var n,i,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,i=n.page,!n.isFetching){t.next=3;break}return t.abrupt("return");case 3:return r=e.props.fetchMoreStories,e.setState({isFetching:!0}),t.next=7,r("trending",!0);case 7:Object(N.f)("/homepage/page/".concat(i+1)),e.setState({page:i+1,isFetching:!1});case 9:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(o,[{key:"componentDidMount",value:(i=Object(f.a)(u.a.mark((function e(){var t,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,this.props.fetchTrendingStories)(void 0,!0),e.next=4,j.Db.trending();case 4:return t=e.sent,n=t.data,e.next=8,Object(E.a)();case 8:i=e.sent,this.setState({carouselGifs:Object(c.a)(n),artistGifs:Object(c.a)(i)});case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,n=t.trendingStories,i=t.autoPlay,r=t.banner,o=t.user,a=t.pingbackId,s=this.state,c=s.isFetching,l=s.carouselGifs,u=s.artistGifs;return b.a.createElement(B,null,r&&b.a.createElement(V,null,b.a.createElement(C.a,r)),b.a.createElement(k.a,{gifs:l,title:"Trending",icon:b.a.createElement(H.c,null),seeAllLabel:"All The GIFs",isHomepage:!0,path:"/trending-gifs",height:140,styles:{margin:"25px 0 50px"},user:o,onClick:function(){Object(N.c)({category:"Homepage",action:"Click",label:"Trending Carousel"})}}),b.a.createElement(k.a,{noLink:!1,gifs:u,title:"Artists",path:"/artists",icon:b.a.createElement(H.a,null),seeAllLabel:"All GIPHY Artists",isHomepage:!0,height:269,isChannelCarousel:!0,styles:{margin:"25px 0 50px"},user:o,minItemWidth:200,onClick:function(){Object(N.c)({category:"Homepage",action:"Click",label:"Artist Carousel"})}}),e.optimizeContentBlocksHomepage&&b.a.createElement(M.a,{user:o,pingbackId:a}),b.a.createElement(D.a,{isHomepage:!0,label:"Videos",icon:b.a.createElement(H.d,null)}),b.a.createElement(G.b,{isHomepage:!0,label:"Stories",icon:b.a.createElement(H.b,null)}),b.a.createElement(_.a,{stories:n,columns:4,width:F,onLoadMore:this.onLoadMore,autoPlay:i,showEditMenu:!0}),b.a.createElement(P.a,{isFetching:c}))}}]),o}(v.PureComponent),a.propTypes={trendingStories:w.a.array,fetchTrendingStories:w.a.func.isRequired,fetchMoreStories:w.a.func.isRequired},o=s))||o)||o)||o)}.call(this,n("yLpj"))},c6vQ:function(e,t,n){"use strict";var i,r,o,a,s,c=n("bhEy"),l=n("q1tI"),u=n.n(l),f=n("ymkJ"),p=n("GsUM"),h=n("BkfM"),d=n("X4/J"),m=n("vOnD"),g=n("SoCg"),v=n("CxY0"),b=n.n(v),y=n("Ty5D"),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=m.d.div.withConfig({displayName:"HeaderContainer",componentId:"sc-1r6mlpm"})(i||(i=w(["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-bottom: 6px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    margin-bottom: 6px;\n"]))),O=m.d.div.withConfig({displayName:"VideoContainer",componentId:"sc-1htvjlj"})(r||(r=w(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"]))),j=m.d.div.withConfig({displayName:"Previews",componentId:"sc-v8xy9a"})(o||(o=w(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),E=m.d.div.withConfig({displayName:"PrimaryVideoContainer",componentId:"sc-10abqq0"})(a||(a=w(["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"]))),C=Object(m.d)(h.a).withConfig({displayName:"LastVideoPreview",componentId:"sc-rmk2op"})(s||(s=w(["\n    margin-top: auto;\n"],["\n    margin-top: auto;\n"])));t.a=function(e){var t=e.icon,n=e.isHomepage,i=Object(d.a)((function(e){return Object(f.a)({offset:e})})),r=i[0],o=i[1],a=r[0],s=r[1],m=r[2],v=Object(y.useHistory)();if(Object(l.useEffect)((function(){o()}),[]),!a)return null;var w=b.a.parse(a.url).path;return u.a.createElement(u.a.Fragment,null,u.a.createElement(x,null,u.a.createElement(p.b,{label:"Videos",icon:t,isHomepage:n}),u.a.createElement(p.b,{label:"All Videos",url:"/videos"})),u.a.createElement(O,null,u.a.createElement(E,null,u.a.createElement(c.A,{gif:a,width:739,height:415.6875,noCutout:!0,noShare:!0,events:new g.a(a.id)}),u.a.createElement(c.C,{href:a.url,onClick:function(){return v.push(w)},showAttribution:!0,title:a.title,user:a.user,width:739})),u.a.createElement(j,null,s&&u.a.createElement(h.a,{gif:s,width:287,height:161.4375}),m&&u.a.createElement(C,{gif:m,width:287,height:161.4375}))))}},kPBI:function(e,t,n){"use strict";var i=n("q1tI"),r=n.n(i),o=n("Ty5D"),a=n("rePB"),s=n("1OyB"),c=n("vuIU"),l=n("md7G"),u=n("foSv"),f=n("Ji7U"),p=n("17x9"),h=n.n(p),d=n("vOnD"),m=n("xCX0"),g=function(e){var t=e.color;return r.a.createElement("svg",{width:"15px",height:"30px",viewBox:"0 0 15 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",fill:"none"},r.a.createElement("g",{transform:"translate(-1017.000000, -82.000000)",fill:t},r.a.createElement("g",null,r.a.createElement("g",{transform:"translate(1.000000, 27.000000)"},r.a.createElement("polygon",{points:"1031 70.0000018 1030.1866 69.0556352 1018.01759 55 1016 56.888726 1027.35562 70.0000018 1016 83.111274 1018.01759 85 1030.1866 70.9443648"}))))))},v=n("bhEy");function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=d.d.div.withConfig({displayName:"fade-next-previous__Container",componentId:"sc-1okudgt-0"})(["width:1040px;height:","px;position:relative;overflow:hidden;"],(function(e){return e.height})),w=d.d.div.withConfig({displayName:"fade-next-previous__Navigation",componentId:"sc-1okudgt-1"})(["width:",";height:","px;position:absolute;z-index:100;display:flex;align-items:center;justify-content:flex-end;padding:0px 12px;background:linear-gradient(-90deg,rgba(18,18,18,0.75) 0%,rgba(18,18,18,0) 100%);opacity:",";transition:opacity 0.5s ease-out,width 0.5s ease-out;cursor:pointer;"],(function(e){return e.show?"50px":"0px"}),(function(e){return e.height}),(function(e){return e.show?"1":"0"})),x=Object(d.d)(w).withConfig({displayName:"fade-next-previous__Previous",componentId:"sc-1okudgt-2"})(["left:0;transform:rotate(180deg);"]),O=Object(d.d)(w).withConfig({displayName:"fade-next-previous__Next",componentId:"sc-1okudgt-3"})(["right:0;"]),j=function(e){Object(f.a)(i,e);var t,n=(t=i,function(){var e,n=Object(u.a)(t);if(b()){var i=Object(u.a)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Object(l.a)(this,e)});function i(){var e;Object(s.a)(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={showNext:!1,showPrevious:!1,fullWidth:0,hoverNext:!1,hoverPrevious:!1,pageOffsets:[],currentPage:0},e}return Object(c.a)(i,[{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.fitItems(!0),e.scrollLeft!==this.props.scrollLeft&&this.fitItems(!1)}},{key:"fitItems",value:function(e){var t=this.props,n=t.height,i=t.width,r=t.items,o=void 0===r?[]:r,a=t.margin,s=void 0===a?6:a,c=t.scrollLeft,l=void 0===c?0:c,u=t.isVideo,f=void 0!==u&&u,p=this.state,h=p.fullWidth,d=p.pageOffsets,m=[],g=0,v=0;if(e){var b=0;m.push(0),o.forEach((function(e){var t=f?n*(16/9)+s:e.images.original.width*n/e.images.original.height+s;if(b+t<i)b+=t;else{var r=m[m.length-1]+Math.floor(b);m.push(r),b=t}g+=t})),m.push(m[m.length-1]+Math.floor(b))}else m=d,g=h;m.forEach((function(e,t){e<=l&&(v=t)})),this.setState({pageOffsets:m,fullWidth:g,currentPage:v,showNext:Math.floor(g-l-i)>0,showPrevious:l>0})}},{key:"navigate",value:function(e){var t=this.props,n=t.scrollLeft,i=t.setScrollLeft,r=t.width,o=this.state,a=o.currentPage,s=o.pageOffsets,c=o.fullWidth,l=a+e;if(l>-1&&l<s.length){var u=s[l];i(Math.min(u,c-r),n)}}},{key:"hover",value:function(e,t){this.setState(Object(a.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.height,o=this.state,a=o.showPrevious,s=o.showNext,c=o.hoverPrevious,l=o.hoverNext;return r.a.createElement(y,{height:i},r.a.createElement(x,{onClick:function(){return e.navigate(-1)},show:a,height:i,onMouseEnter:function(){return e.hover("hoverPrevious",!0)},onMouseLeave:function(){return e.hover("hoverPrevious",!1)}},r.a.createElement(g,{color:c?v.D.giphyWhite:v.D.giphyLightGrey})),r.a.createElement(O,{onClick:function(){return e.navigate(1)},show:s,height:i,onMouseEnter:function(){return e.hover("hoverNext",!0)},onMouseLeave:function(){return e.hover("hoverNext",!1)}},r.a.createElement(g,{color:l?v.D.giphyWhite:v.D.giphyLightGrey})),n)}}]),i}(i.PureComponent);j.propTypes={items:h.a.arrayOf(m.a),width:h.a.number,height:h.a.number,isVideo:h.a.bool};var E,C,k=n("r2b9"),P=n("mnxI"),I=n("jBXu"),S=n("GsUM"),L=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},N=(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),R=Object(d.d)(S.a).withConfig({displayName:"SectionHeader",componentId:"sc-lvorej"})(C||(C=L(["\n    margin-bottom: ",";\n"],["\n    margin-bottom: ",";\n"])),(function(e){return e.isHomepage?"3px":"6px"})),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPosition:0},t.setScrollLeft=function(e,n){void 0!==n?Object(I.tween)({from:{x:n},to:{x:e},duration:700,easing:"easeInOutQuart",step:function(e){return t.setState({scrollPosition:e.x})}}):t.setState({scrollPosition:e})},t.saveRef=function(e){t.savedRef=e},t}return N(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.scrollPosition;null!==this.savedRef&&t.scrollPosition!==n&&(this.savedRef.scrollLeft=n)},t.prototype.render=function(){var e=this,t=this.props,n=t.gifs,i=t.width,o=void 0===i?1040:i,a=t.height,s=void 0===a?100:a,c=t.path,l=t.title,u=t.styles,f=t.isVideo,p=t.onClick,h=t.history,d=t.minItemWidth,m=t.noLink,g=void 0===m||m,v=t.isChannelCarousel,b=void 0!==v&&v,y=t.icon,w=t.isHomepage,x=void 0!==w&&w,O=t.seeAllLabel,E=this.state.scrollPosition;return r.a.createElement("div",{style:u},r.a.createElement(R,{label:l,seeAllLabel:O,url:c,icon:y,isHomepage:x}),r.a.createElement(j,{width:o,height:s,items:n,setScrollLeft:this.setScrollLeft,scrollLeft:E,isVideo:f},r.a.createElement(k.a,{noLink:g,isChannelCarousel:b,gifs:n,height:s,minItemWidth:d,onClick:f||!g?void 0:function(e,t){e.preventDefault(),h.push(Object(P.d)(t.url)),null==p||p(e,t)},onScroll:function(t){return e.setScrollLeft(t.currentTarget.scrollLeft)},saveRef:this.saveRef})))},t}(i.PureComponent);t.a=Object(o.withRouter)(M)},s56M:function(e,t,n){"use strict";var i,r,o,a,s=n("q1tI"),c=n.n(s),l=n("uKiO"),u=n("kPBI"),f=n("oJrv"),p=n("fdid"),h=n("1h47"),d=n("t+uw"),m=n("ALA/"),g=n("bbZa"),v=n("vOnD"),b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},w=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=v.d.div.withConfig({displayName:"Container",componentId:"sc-sbrjgd"})(i||(i=b(["\n    padding-bottom: 40px;\n"],["\n    padding-bottom: 40px;\n"]))),O=Object(v.d)(p.a).withConfig({displayName:"PopularSearches",componentId:"sc-tdr23r"})(r||(r=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"]))),j=Object(v.d)(f.a).withConfig({displayName:"Artists",componentId:"sc-140b9vu"})(o||(o=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"]))),E=Object(v.d)(h.a).withConfig({displayName:"Reactions",componentId:"sc-9ws8es"})(a||(a=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"])));t.a=function(){var e=Object(s.useState)(),t=e[0],n=e[1],i=Object(s.useContext)(d.a).receivedGifs;return Object(m.a)((function(){return y(void 0,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return[4,l.Db.trending({type:"stickers"})];case 1:return e=t.sent().data,i({gifs:e}),n(e),[2]}}))}))}),[]),c.a.createElement(x,null,c.a.createElement(O,{width:1040}),c.a.createElement(E,{width:1040}),c.a.createElement(j,{width:1040}),t&&c.a.createElement(u.a,{gifs:t,title:"Trending Stickers",path:"/stickers",height:140,styles:{margin:"25px 0 50px"},onClick:function(){Object(g.c)({category:"Homepage",action:"Click",label:"Trending Stickers Carousel"})}}))}}}]);
//# sourceMappingURL=homepageBeta.c2e02b84.bundle.js.map